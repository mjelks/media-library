<div class="max-w-4xl">
  <div class="flex gap-8 mb-8">
    <%= render "shared/cover_image", cover_image: @media_item.release.cover_image %>

    <div class="flex-1">
      <h1 class="font-bold text-4xl mb-2"><%= @media_item.display_title %></h1>

      <% if @media_item.media_owner %>
        <p class="text-xl text-gray-600 mb-4">
          <%= link_to @media_item.media_owner.name, media_owner_path(@media_item.media_owner), class: "hover:underline" %>
        </p>
      <% end %>

      <div class="space-y-2 text-gray-600">
        <p><strong>Format:</strong> <%= @media_item.media_type.name %></p>
        <% if @media_item.year %>
          <p><strong>Year:</strong> <%= @media_item.year %></p>
        <% end %>
        <% if @media_item.release&.original_year %>
          <p><strong>Original Release:</strong> <%= @media_item.release.original_year %></p>
        <% end %>
        <% if @media_item.genres.any? %>
          <p><strong>Genre:</strong> <%= @media_item.genres.map(&:name).join(", ") %></p>
        <% end %>
        <% if @media_item.play_count && @media_item.play_count > 0 %>
          <p><strong>Play Count:</strong> <%= @media_item.play_count %></p>
        <% end %>
      </div>
    </div>
  </div>

  <% if @media_item.description.present? %>
    <div class="mb-6">
      <h2 class="font-bold text-xl mb-2">Description</h2>
      <p class="text-gray-600"><%= @media_item.description %></p>
    </div>
  <% end %>

  <% if @media_item.notes.present? %>
    <div class="mb-6">
      <h2 class="font-bold text-xl mb-2">Notes</h2>
      <p class="text-gray-600"><%= @media_item.notes %></p>
    </div>
  <% end %>

  <%= render "shared/track_listing", tracks: @media_item.disc_tracks %>

  <div class="flex gap-2 mt-8">
    <%= link_to "Edit", edit_media_item_path(@media_item), class: "rounded-md px-3.5 py-2.5 bg-gray-100 hover:bg-gray-50 font-medium" %>
    <%= link_to "Back", media_items_path, class: "rounded-md px-3.5 py-2.5 bg-gray-100 hover:bg-gray-50 font-medium" %>
    <%= button_to "Delete", @media_item, method: :delete, class: "rounded-md px-3.5 py-2.5 text-white bg-red-600 hover:bg-red-500 font-medium", data: { turbo_confirm: "Are you sure?" } %>
  </div>
</div>
